$NetBSD$

--- src/Native/System.Net.Security.Native/CMakeLists.txt.orig	2016-04-16 12:43:49.000000000 +0000
+++ src/Native/System.Net.Security.Native/CMakeLists.txt
@@ -9,11 +9,14 @@ if (HAVE_GSSFW_HEADERS)
    if(LIBGSS STREQUAL LIBGSS-NOTFOUND)
       message(FATAL_ERROR "Cannot find GSS.Framework and System.Net.Security.Native cannot build without it. Try installing GSS.Framework (or the appropriate package for your platform)")
    endif()
+   find_path(LIBGSS_INCLUDE_DIR GSS/GSS.h)
 else()
    find_library(LIBGSS NAMES gssapi_krb5)
    if(LIBGSS STREQUAL LIBGSS-NOTFOUND)
       message(FATAL_ERROR "Cannot find libgssapi_krb5 and System.Net.Security.Native cannot build without it. Try installing libkrb5-dev (or the appropriate package for your platform)")
    endif()
+   # Look up for MIT-KRB5 specific header, not available in Heimdal
+   find_path(LIBGSS_INCLUDE_DIR gssapi/gssapi_ext.h)
 endif()
 
 set(NATIVEGSS_SOURCES
@@ -30,4 +33,8 @@ target_link_libraries(System.Net.Securit
     ${LIBGSS}
 )
 
+include_directories(SYSTEM
+    ${LIBGSS_INCLUDE_DIR}
+)
+
 install (TARGETS System.Net.Security.Native DESTINATION .)
